<div class="row">
  <div class="col-lg-10 mx-auto">
    <div class="mb-4">
      <%= link_to user_path(@user), class: "text-decoration-none" do %>
        <i class="bi bi-arrow-left"></i> <%= @user.name %>のプロフィールに戻る
      <% end %>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="h2 mb-0">
        <i class="bi bi-clock-history"></i> 推し発見履歴
      </h1>
      <div class="d-flex gap-2">
        <span class="badge bg-success">
          <i class="bi bi-heart-fill"></i> 発見: <%= @user.recommendations.favorited.count %>件
        </span>
        <span class="badge bg-secondary">
          <i class="bi bi-skip-forward"></i> スキップ: <%= @user.recommendations.skipped.count %>件
        </span>
      </div>
    </div>

    <% if @recommendations.blank? %>
      <%= render 'users/recommendations_empty' %>
    <% else %>
      <div class="row g-4">
        <% @recommendations.each do |recommendation| %>
          <%= render 'users/recommendation_item', recommendation: recommendation %>
        <% end %>
      </div>

      <% if @recommendations.total_pages > 1 %>
        <div class="mt-4">
          <%= paginate @recommendations, theme: 'bootstrap4' %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
